(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21b61394"],{"0a49":function(e,t,a){var n=a("9b43"),o=a("626a"),i=a("4bf8"),r=a("9def"),c=a("cd1c");e.exports=function(e,t){var a=1==e,s=2==e,l=3==e,d=4==e,u=6==e,p=5==e||u,g=t||c;return function(t,c,f){for(var h,v,m=i(t),y=o(m),b=n(c,f,3),x=r(y.length),w=0,_=a?g(t,x):s?g(t,0):void 0;x>w;w++)if((p||w in y)&&(h=y[w],v=b(h,w,m),e))if(a)_[w]=v;else if(v)switch(e){case 3:return!0;case 5:return h;case 6:return w;case 2:_.push(h)}else if(d)return!1;return u?-1:l||d?d:_}}},"0bfb":function(e,t,a){"use strict";var n=a("cb7c");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},1169:function(e,t,a){var n=a("2d95");e.exports=Array.isArray||function(e){return"Array"==n(e)}},3846:function(e,t,a){a("9e1e")&&"g"!=/./g.flags&&a("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:a("0bfb")})},"3dc3":function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,'.flyDiv[data-v-80c14208]{left:50%;top:13px;z-index:9999;width:400px;margin-left:-150px;height:54px;display:none}.flyDiv[data-v-80c14208],.mapbtn[data-v-80c14208]{position:absolute}.mapbtn[data-v-80c14208]{left:30px;top:80px;z-index:99999;color:#13ce66;background-color:#fff;opacity:.8;padding:0 15px}.mapbtn .el-row[data-v-80c14208]{margin:15px 0}.bubble[data-v-80c14208]{font-family:微软雅黑;position:absolute;width:auto;min-width:300px;height:200px;padding:15px;background-color:#fff;color:#909399;font-size:14px;border:1px solid #ebeef5;border-radius:4px;-webkit-box-shadow:0 0 5px #ccc;box-shadow:0 0 5px #ccc}.bubble table[data-v-80c14208]{width:100%}.bubble table td[data-v-80c14208]:first-child{width:40%}.bubble table td[data-v-80c14208]:nth-child(2){width:60%}.bubble table td[data-v-80c14208]{line-height:26px;text-align:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.search[data-v-80c14208]{left:30px;width:320px}.righttool[data-v-80c14208],.search[data-v-80c14208]{position:absolute;top:40px}.righttool[data-v-80c14208]{display:inline-block;width:430px;height:40px;right:140px;font-family:MicrosoftYaHei;font-size:12px}.righttool>div[data-v-80c14208]{position:relative}.righttool>div button[data-v-80c14208]{vertical-align:middle}.righttool>div[data-v-80c14208]:after{content:"";height:100%}.righttool>div[data-v-80c14208]:after,.righttool ul[data-v-80c14208]{display:inline-block;vertical-align:middle}.righttool ul[data-v-80c14208]{height:40px;margin-right:10px;background-color:#fff;border-radius:4px}.righttool ul li[data-v-80c14208]{float:left;width:75px;height:40px;display:inline-block;color:#4c4c4c;text-align:center;cursor:pointer}.righttool ul li[data-v-80c14208]:nth-child(4){width:95px}.righttool ul li[data-v-80c14208]:after{content:"";height:100%}.righttool ul li[data-v-80c14208]:after,.righttool ul li i[data-v-80c14208]{display:inline-block;vertical-align:middle}.righttool ul li i[data-v-80c14208]{width:24px;height:24px;margin-right:5px}.righttool ul li div[data-v-80c14208]{vertical-align:middle;display:inline-block;width:74px;border-right:1px dashed #e0e0e0}.righttool p[data-v-80c14208]{background-color:#fff;border-radius:4px;padding:10px 0;text-align:center;opacity:.6;margin-top:15px;color:#282828}.wcheck[data-v-80c14208]{color:#0096ff}.gwlabel[data-v-80c14208]{position:absolute;top:40px;left:225px;background-color:#fff;height:70px;width:95px!important;z-index:99;border:0!important;text-align:center}.gwlabel>div[data-v-80c14208]{margin-top:10px}.bbrr[data-v-80c14208]{border-bottom-right-radius:0!important}.sq[data-v-80c14208]{background:url(/img/3d/icon_3D_sq.png) no-repeat}.xl[data-v-80c14208]{background:url(/img/3d/icon_3D_xl.png) no-repeat}.xh[data-v-80c14208]{background:url(/img/3d/icon_3D_xh_normal.png) no-repeat}.xhcheck[data-v-80c14208]{background:url(/img/3d/icon_3D_xh_active.png) no-repeat}.kw[data-v-80c14208]{background:url(/img/3d/icon_3D_kw_normal.png) no-repeat}.kwcheck[data-v-80c14208]{background:url(/img/3d/icon_3D_kw_active.png) no-repeat}.dx[data-v-80c14208]{background:url(/img/3d/icon_3D_dx_normal.png) no-repeat}.dxcheck[data-v-80c14208]{background:url(/img/3d/icon_3D_dx_active.png) no-repeat}.tc[data-v-80c14208]{background:url(/img/3d/icon_3D_tc_normal.png) no-repeat}.tccheck[data-v-80c14208]{background:url(/img/3d/icon_3D_tc_active.png) no-repeat}.sresult[data-v-80c14208]{position:absolute;top:50px;left:0;background-color:#fff;width:280px;border-radius:4px;padding:10px 20px;color:#5f5f5f;font-size:14px;max-height:500px;overflow:auto}.sresult>div[data-v-80c14208]{color:#2ba7ff;font-size:12px}.sresult ul li[data-v-80c14208]{list-style:none;margin-top:10px;cursor:pointer}',""])},"40aa":function(e,t,a){"use strict";var n=a("42c0"),o=a.n(n);o.a},"42c0":function(e,t,a){var n=a("3dc3");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=a("499e").default;o("f73a2e24",n,!0,{sourceMap:!1,shadowMode:!1})},"456d":function(e,t,a){var n=a("4bf8"),o=a("0d58");a("5eda")("keys",function(){return function(e){return o(n(e))}})},"5eda":function(e,t,a){var n=a("5ca1"),o=a("8378"),i=a("79e5");e.exports=function(e,t){var a=(o.Object||{})[e]||Object[e],r={};r[e]=t(a),n(n.S+n.F*i(function(){a(1)}),"Object",r)}},7514:function(e,t,a){"use strict";var n=a("5ca1"),o=a("0a49")(5),i="find",r=!0;i in[]&&Array(1)[i](function(){r=!1}),n(n.P+n.F*r,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")(i)},"7f7f":function(e,t,a){var n=a("86cc").f,o=Function.prototype,i=/^\s*function ([^ (]*)/,r="name";r in o||a("9e1e")&&n(o,r,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},a322:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"a",function(){return n})},b7e6:function(e,t,a){"use strict";a.r(t);var n,o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.msearch()}}},[a("div",{staticClass:"flyDiv",attrs:{id:"flyDiv"}},[a("el-tooltip",{attrs:{content:"鼠标右键点击地图显示/隐藏地面。",placement:"bottom",effect:"light"}},[a("el-button",{staticStyle:{"font-size":"15px",padding:"6px 10px"},attrs:{type:"primary",size:"small"},on:{click:function(t){return e.flyToType("gw")}}},[e._v("\n        "+e._s(e.flyLabel.gw))])],1),a("el-button",{staticStyle:{"font-size":"15px",padding:"6px 10px"},attrs:{type:"primary",size:"small"},on:{click:function(t){return e.flyToType("bz")}}},[e._v("\n      "+e._s(e.flyLabel.bz))]),a("el-button",{staticStyle:{"font-size":"15px",padding:"6px 10px"},attrs:{type:"primary",size:"small"},on:{click:function(t){return e.flyToType("ws")}}},[e._v("\n      "+e._s(e.flyLabel.ws))]),a("el-button",{staticStyle:{"font-size":"15px",padding:"6px 10px"},attrs:{type:"primary",size:"small"},on:{click:function(t){return e.flyToType("qx")}}},[e._v("\n      "+e._s(e.flyLabel.qx))])],1),a("div",{attrs:{id:"cesiumContainer"}}),a("el-row",{staticClass:"search"},[a("el-col",{staticStyle:{position:"relative"},attrs:{span:24}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入关键字","suffix-icon":"el-icon-search"},model:{value:e.searchvalue,callback:function(t){e.searchvalue=t},expression:"searchvalue"}}),a("div",{staticClass:"m_search",on:{click:function(t){return e.msearch()}}},[a("div",[a("i")])]),a("div",{staticClass:"sresult"},[a("div",[e._v("搜索结果")]),e._l(e.mresult,function(t){return a("ul",[a("li",{on:{click:function(a){return e.getwhere(t.Id,t.W,t.N,t.E,t.S)}}},[e._v(e._s(t.Name))])])})],2)],1)],1),a("div",{staticClass:"righttool"},[a("div",[a("ul",{class:e.tc?"bbrr":""},[a("li",{attrs:{title:"可双击执行"},on:{click:function(t){return e.xunh()}}},[a("div",[a("i",{class:e.xh?"xhcheck":"xh"}),a("span",{class:e.xh?"wcheck":""},[e._v("巡航")])])]),a("li",{attrs:{title:"使用左键绘制几个开挖点,右键结束"},on:{click:function(t){return e.kaiw()}}},[a("div",[a("i",{class:e.kw?"kwcheck":"kw"}),a("span",{class:e.kw?"wcheck":""},[e._v("开挖")])])]),a("li",{on:{click:function(t){return e.gumeiCityVisible()}}},[a("div",[a("i",{class:e.dx?"dxcheck":"dx"}),a("span",{class:e.dx?"wcheck":""},[e._v("地下")])])]),a("li",{staticClass:"ptc",on:{click:function(t){return e.changestyle("tc")}}},[a("i",{class:e.tc?"tccheck":"tc"}),a("span",{class:e.tc?"wcheck":""},[e._v("图层")]),a("i",{class:e.tc?"sq":"xl"})])]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.cz()}}},[e._v("重置视角")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.tc,expression:"tc"}],staticClass:"gwlabel"},[a("div",[a("el-checkbox",{on:{change:function(t){return e.gwLayerVisble("ysgw")}},model:{value:e.ysgw,callback:function(t){e.ysgw=t},expression:"ysgw"}},[e._v("雨水管网")])],1),a("div",[a("el-checkbox",{on:{change:function(t){return e.gwLayerVisble("wsgw")}},model:{value:e.wsgw,callback:function(t){e.wsgw=t},expression:"wsgw"}},[e._v("污水管网")])],1)])],1),a("p",[e._v("温馨提示：移动视角按键W,S,A,D,Q,E")])]),a("div",{staticClass:"toolbottom"},[e._l(e.gmLayer,function(t,n){return[a("el-checkbox",{on:{change:function(a){return e.gumeiVisible(t.name)}},model:{value:e.gmarr["gm"+n],callback:function(t){e.$set(e.gmarr,"gm"+n,t)},expression:"gmarr['gm'+i]"}},[e._v(e._s(t.name.substr(0,-1==t.name.indexOf("_")?99:t.name.indexOf("_"))))])]})],2),a("div",{staticClass:"bubble",staticStyle:{bottom:"0",left:"82%",display:"none"},attrs:{id:"bubble"}},[a("div",{staticStyle:{"text-align":"right",position:"relative"},attrs:{id:"tools"}},[a("span",{staticStyle:{color:"#909399",padding:"5px",position:"absolute",left:"0",top:"-5px","font-weight":"bold"}},[e._v("模型属性")]),a("i",{staticClass:"el-icon-close",on:{click:function(t){return e.close()}}})]),a("div",{attrs:{id:"tableContainer"}},[a("table",{attrs:{id:"tab"}},[e._m(0),a("tbody",[a("tr",[a("td",[e._v("经度:")]),a("td",[e._v(e._s(e.props.lon))])]),a("tr",[a("td",[e._v("纬度:")]),a("td",[e._v(e._s(e.props.lat))])]),a("tr",[a("td",[e._v("高度:")]),a("td",[e._v(e._s(e.props.height))])]),a("tr",[a("td",[e._v("名称:")]),a("td",[e._v(e._s(e.props.name))])]),a("tr",[a("td",[e._v("区域:")]),a("td",[e._v(e._s(e.props.quyu))])])])])])])],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("名称")]),a("th",[e._v("值")])])])}],r=a("a322"),c=(a("456d"),a("7f7f"),a("ac6a"),a("7514"),a("3846"),{data:function(){return{loading:!0,ys:!0,ws:!0,Issaom:!1,IsPro:!0,dock:!1,gmcity:!0,xh:!1,kw:!1,dx:!1,tc:!1,ysgw:!0,wsgw:!0,viewer:{},scene:{},camera:{},globe:{},imageryLayers:[],imageryWgs:[],gmLayer:[],gwLayer:[],labelImagery:{},overGroundLayer:{},overGroundLayer2:{},overGroundLayer3:{},overGroundLayer4:{},overGroundLayer5:{},overGroundLayer6:{},overGroundLayer7:{},overGroundLayer8:{},handlerPolygon:{},gmarr:[],ysgwarr:[],wsgwarr:[],mresult:[],flyLabel:{gw:"管  网",bz:"泵  站",ws:"污水厂",qx:"倾斜摄影"},flags:{looking:!1,moveForward:!1,moveBackward:!1,moveUp:!1,moveDown:!1,moveLeft:!1,moveRight:!1},scenePosition:{},infoboxContainer:{},searchvalue:"",props:{lon:0,lat:0,height:0,name:"",quyu:""}}},methods:(n={onload3D:function(e){var t=this;t.viewer=new Cesium.Viewer("cesiumContainer",{selectionIndicator:!1,infoBox:!0,showRenderLoopErrors:!1}),t.viewer.enableCursorStyle=!1,t.viewer._element.style.cursor="",t.viewer.terrainShadows=Cesium.ShadowMode.DISABLED,t.scene=t.viewer.scene,t.scene.undergroundMode=!0,t.scene.terrainProvider.isCreateSkirt=!1,t.camera=t.scene.camera,t.globe=t.scene.globe,t.globe.globeAlpha=1,t.globe.cullEnabled=!1,t.globe.showGroundAtmosphere=!0,t.ellipsoid=t.scene.globe.ellipsoid,t.infoboxContainer=document.getElementById("bubble"),t.scene.screenSpaceCameraController.minimumZoomDistance=-1e3,t.scene.screenSpaceCameraController.maximumZoomDistance=22e6,t.scene.screenSpaceCameraController._minimumZoomRate=3e4,t.scene.screenSpaceCameraController._maximumZoomRate=5906376272e3,t.scene.camera.moveEnd.addEventListener(function(e){}),t.scene.postRender.addEventListener(function(){});var a=new Cesium.ScreenSpaceEventHandler(t.scene.canvas);a.setInputAction(function(e){},Cesium.ScreenSpaceEventType.LEFT_CLICK),a.setInputAction(function(e){t.xunh()},Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),a.setInputAction(function(e){},Cesium.ScreenSpaceEventType.RIGHT_CLICK),a.setInputAction(function(e){},Cesium.ScreenSpaceEventType.WHEEL),document.addEventListener("keydown",function(e){var a=t.getFlagForKeyCode(e.keyCode);"undefined"!==typeof a&&(t.flags[a]=!0)},!1),document.addEventListener("keyup",function(e){var a=t.getFlagForKeyCode(e.keyCode);"undefined"!==typeof a&&(t.flags[a]=!1)},!1),t.viewer.clock.onTick.addEventListener(function(e){var a=t.scene.camera,n=100;t.flags.moveForward&&a.moveForward(n),t.flags.moveBackward&&a.moveBackward(n),t.flags.moveUp&&a.moveUp(n),t.flags.moveDown&&a.moveDown(n),t.flags.moveLeft&&a.moveLeft(n),t.flags.moveRight&&a.moveRight(n)});var n=e.ywps,o=t.scene.open(n);o.then(function(e){});var i=e.gumei,r=t.scene.open(i);r.then(function(e){t.overGroundLayer=t.scene.layers.find("道路面_3D@BASE_3D"),t.overGroundLayer2=t.scene.layers.find("小区道路_3D@BASE_3D"),t.overGroundLayer3=t.scene.layers.find("道路中心_3D@BASE_3D"),t.overGroundLayer4=t.scene.layers.find("外侧路_3D@BASE_3D"),t.overGroundLayer5=t.scene.layers.find("马路牙子_3D@BASE_3D"),t.overGroundLayer6=t.scene.layers.find("斑马线_H@BASE_3D"),t.overGroundLayer7=t.scene.layers.find("树_3D@BASE_3D"),t.overGroundLayer8=t.scene.layers.find("斑马线_S@BASE_3D");var a={overGroundAlpha:1};Cesium.knockout.track(a),t.layerVisible(),t.cz()})},close:function(){this.infoboxContainer.style.display="none"},changeAlpha:function(e){var t=this;t.globe.globeAlpha=e;for(var a=config.dmSelectAlphaLayers_3d,n=0;n<a.length;n++){var o=t.scene.layers.find(a[n]);o&&(o.style3D.fillForeColor.alpha=e)}}},Object(r["a"])(n,"changeAlpha",function(e,t){var a=this,n=a.scene.layers.find(e);n&&(n.style3D.fillForeColor.alpha=t)}),Object(r["a"])(n,"flyToType",function(e){var t,a=this;"gw"===e&&"gw"===a.flyType&&a.globe.globeAlpha>0?a.changeAlpha(0):a.changeAlpha(1),"gw"===e?t=config.gwPosition:"bz"===e?t=config.bzPosition:"ws"===e?t=config.wsPosition:"qx"===e&&(t=config.qxPosition),a.flyType!==e&&setTimeout(function(){a.scene.camera.flyTo({destination:new Cesium.Cartesian3(t.x,t.y,t.z),orientation:{heading:t.heading,pitch:t.pitch,roll:t.roll},duration:2})},4e3),a.flyType=e}),Object(r["a"])(n,"flyToInit",function(e,t){var a,n=this;"gw"===e?a=config.gwPosition:"one"===e?a=config.onePosition:"two"===e?a=config.twoPosition:"gumei"===e?a=config.gumeiPosition:"longm"===e&&(a=config.longmPosition),null!=t?n.scene.camera.flyTo({destination:new Cesium.Cartesian3(a.x,a.y,a.z),orientation:{heading:a.heading,pitch:a.pitch,roll:a.roll},duration:t}):n.scene.camera.flyTo({destination:new Cesium.Cartesian3(a.x,a.y,a.z),orientation:{heading:a.heading,pitch:a.pitch,roll:a.roll}})}),Object(r["a"])(n,"flyToRectangle",function(e,t,a,n){this.scene.camera.flyTo({destination:Cesium.Rectangle.fromDegrees(e,n,a,t),orientation:{heading:6.130013382038405,pitch:-.42548166729378534,roll:6.283177659268466}})}),Object(r["a"])(n,"getFlagForKeyCode",function(e){switch(e){case"W".charCodeAt(0):return"moveForward";case"S".charCodeAt(0):return"moveBackward";case"Q".charCodeAt(0):return"moveUp";case"E".charCodeAt(0):return"moveDown";case"D".charCodeAt(0):return"moveRight";case"A".charCodeAt(0):return"moveLeft";default:return}}),Object(r["a"])(n,"changesaom",function(){var e=this;e.scene.scanEffect.show=e.Issaom;var t=new Cesium.Cartesian2(712,300),a=e.scene.pickPosition(t);e.scene.scanEffect.centerPostion=a;var n=new Cesium.Color(1,1,1,1);e.scene.scanEffect.color=n,e.scene.scanEffect.period=3,e.scene.scanEffect.mode=Cesium.ScanEffectMode.CIRCLE}),Object(r["a"])(n,"cz",function(){this.flyToInit("gumei")}),Object(r["a"])(n,"changepipe",function(e){var t=this;"ysg"==e&&t.changeAlpha("YSG_3D@DRAIN",t.ysg?1:0),"ysj"==e&&t.changeAlpha("ysj3d_dm@DRAIN",t.ysj?1:0),"wsg"==e&&t.changeAlpha("WSG_3D@DRAIN",t.wsg?1:0),"wsj"==e&&t.changeAlpha("WSJ3D_dm@DRAIN",t.wsj?1:0)}),Object(r["a"])(n,"xunh",function(){this.xh?this.scene.camera.cancelFlight():this.flyToInit("longm",15),this.changestyle("xh")}),Object(r["a"])(n,"kaiw",function(){var e=this;e.changestyle("kw"),e.kw?(e.IsPro=!1,e.handlerPolygon=new Cesium.DrawHandler(e.viewer,Cesium.DrawMode.Polygon),e.handlerPolygon.activeEvt.addEventListener(function(t){1==t?(e.viewer.enableCursorStyle=!1,e.viewer._element.style.cursor="",$("body").removeClass("drawCur").addClass("drawCur")):(e.IsPro=!0,e.viewer.enableCursorStyle=!0,$("body").removeClass("drawCur"))}),e.handlerPolygon.movingEvt.addEventListener(function(e){}),e.handlerPolygon.drawEvt.addEventListener(function(t){e.handlerPolygon.polygon.show=!1,e.handlerPolygon.polyline.show=!1;for(var a=t.object,n=a.positions,o=[],i=0,r=n.length;i<r;i++){var c=n[i],s=Cesium.Cartographic.fromCartesian(c),l=Cesium.Math.toDegrees(s.longitude),d=Cesium.Math.toDegrees(s.latitude),u=s.height;o.push(l),o.push(d),o.push(u)}e.overGroundLayer.addExcavationRegion({position:o,name:"excavation_"+Math.random()}),e.overGroundLayer2.addExcavationRegion({position:o,name:"excavation_"+Math.random()}),e.overGroundLayer3.addExcavationRegion({position:o,name:"excavation_"+Math.random()}),e.overGroundLayer4.addExcavationRegion({position:o,name:"excavation_"+Math.random()}),e.overGroundLayer5.addExcavationRegion({position:o,name:"excavation_"+Math.random()}),e.overGroundLayer6.addExcavationRegion({position:o,name:"excavation_"+Math.random()}),e.overGroundLayer7.addExcavationRegion({position:o,name:"excavation_"+Math.random()}),e.overGroundLayer8.addExcavationRegion({position:o,name:"excavation_"+Math.random()}),e.handlerPolygon.deactivate()}),e.handlerPolygon.activate()):e.kaiwReset()}),Object(r["a"])(n,"kaiwReset",function(){var e=this;e.overGroundLayer.clearModifyRegions(),e.overGroundLayer2.clearModifyRegions(),e.overGroundLayer3.clearModifyRegions(),e.overGroundLayer4.clearModifyRegions(),e.overGroundLayer5.clearModifyRegions(),e.overGroundLayer6.clearModifyRegions(),e.overGroundLayer7.clearModifyRegions(),e.overGroundLayer8.clearModifyRegions()}),Object(r["a"])(n,"gumeiVisible",function(e){var t=this,a=0;t.gmLayer.forEach(function(t,n){t.name.indexOf(e)>-1&&(a=n)}),t.changeAlpha(e,t.gmarr["gm"+a]?1:0)}),Object(r["a"])(n,"gumeiCityVisible",function(){var e=this;e.gmcity=!e.gmcity,e.gmLayer.forEach(function(t,a){e.gmarr["gm"+a]=e.gmcity,e.changeAlpha(t.name,e.gmcity?1:0)}),e.changestyle("dx")}),Object(r["a"])(n,"gwLayerVisble",function(e){var t=this;"ysgw"==e&&t.ysgwarr.forEach(function(e,a){t.changeAlpha(e,t.ysgw?1:0)}),"wsgw"==e&&t.wsgwarr.forEach(function(e,a){t.changeAlpha(e,t.wsgw?1:0)})}),Object(r["a"])(n,"onQueryComplete",function(e){var t=this;e.result.features.forEach(function(e,a){var n={Id:e.attributes.SMID,W:e.attributes.SMSDRIW,N:e.attributes.SMSDRIN,E:e.attributes.SMSDRIE,S:e.attributes.SMSDRIS,Name:e.attributes.S_DRAI_PIPE_NAME_ROAD+"("+e.attributes.S_DRAI_PIPE_BROAD_NAME+"-"+e.attributes.S_DRAI_PIPE_EROAD_NAME+")"};t.mresult.push(n)})}),Object(r["a"])(n,"getwhere",function(e,t,a,n,o){var i=this.scene.layers.find("YSG_3D@DRAIN_3D");i.selectedColor=Cesium.Color.AQUA,this.flyToRectangle(t,a,n,o),i.setSelection(e)}),Object(r["a"])(n,"query",function(e,t,a){var n,o,i;this.mresult=[],n=new SuperMap.REST.FilterParameter({attributeFilter:t}),i=new SuperMap.REST.GetFeaturesBySQLParameters({queryParameter:n,toIndex:99,datasetNames:[a]}),o=new SuperMap.REST.GetFeaturesBySQLService(e,{eventListeners:{processCompleted:this.onQueryComplete,processFailed:this.processFailed}}),o.processAsync(i)}),Object(r["a"])(n,"processFailed",function(e){alert(e.error.errorMsg)}),Object(r["a"])(n,"changestyle",function(e){switch(e){case"xh":this.xh=!this.xh;break;case"kw":this.kw=!this.kw;break;case"dx":this.dx=!this.dx;break;case"tc":this.tc=!this.tc;break}}),Object(r["a"])(n,"msearch",function(){if(""!=this.searchvalue){var e=layerConfig.gwdata;this.query(e,"S_DRAI_PIPE_NAME_ROAD like '%"+this.searchvalue+"%'","DRAIN_3D:YSG_3D")}else this.mresult=[]}),Object(r["a"])(n,"layerVisible",function(){var e=this,t=["树_3D@BASE_3D","植被牙_3D@BASE_3D","绿植_3D@BASE_3D","小区道路_3D@BASE_3D"];t.forEach(function(t,a){var n=e.scene.layers.find(""+t);n&&(n.maxVisibleAltitude=50)})}),Object(r["a"])(n,"checkNullObj",function(e){return 0===Object.keys(e).length}),n),mounted:function(){var e=this;this.gmLayer=gumeiLayer.layers,this.gmLayer.forEach(function(t,a){e.$set(e.gmarr,"gm"+a,!0)}),this.gwLayer=gwLayer.layers,this.gwLayer.forEach(function(t,a){t.name.indexOf("YS")>-1||t.name.indexOf("Drain")>-1||t.name.indexOf("YBZ")>-1?e.ysgwarr.push(t.name):e.wsgwarr.push(t.name)}),this.onload3D(layerConfig)}}),s=c,l=(a("40aa"),a("d2ed"),a("2877")),d=Object(l["a"])(s,o,i,!1,null,"80c14208",null);t["default"]=d.exports},cd1c:function(e,t,a){var n=a("e853");e.exports=function(e,t){return new(n(e))(t)}},d2ed:function(e,t,a){"use strict";var n=a("fa88"),o=a.n(n);o.a},db02:function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,".drawCur{cursor:url(/img/draw.cur),auto}.el-input__suffix{display:none}.el-input__suffix-inner{pointer-events:all;height:40px;line-height:40px;border-left:1px solid #e8e8e8;padding-left:10px}.m_search{position:absolute;right:8px;top:8px;cursor:pointer}.m_search>div{border-left:1px solid #e8e8e8}.m_search i{background:url(/img/3d/icon_3D_search.png) no-repeat;height:100%;display:inline-block;width:24px;height:24px;vertical-align:middle;text-align:center;-webkit-transition:all .3s;transition:all .3s;margin-left:10px}.cesium-credit-logoContainer>div,.cesium-viewer-zoomIndicatorContainer,.toolbottom{display:none}.toolbottom{position:absolute;left:30px;right:30px;bottom:15px;background-color:#fff;opacity:.8;padding:15px}.cesium-viewer-bottom{display:none}.el-button--primary,.el-checkbox__label{font-size:12px}",""])},e853:function(e,t,a){var n=a("d3f4"),o=a("1169"),i=a("2b4c")("species");e.exports=function(e){var t;return o(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!o(t.prototype)||(t=void 0),n(t)&&(t=t[i],null===t&&(t=void 0))),void 0===t?Array:t}},fa88:function(e,t,a){var n=a("db02");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=a("499e").default;o("05e7a50a",n,!0,{sourceMap:!1,shadowMode:!1})}}]);